set(SRC_DIR ../VTK/)

find_package(ZLIB REQUIRED)

ExternalProject_Add(VTK
  PREFIX                vtk
  GIT_REPOSITORY        https://github.com/Kitware/VTK.git
  GIT_TAG               v8.1.1

  CMAKE_CACHE_ARGS
      -DCMAKE_BUILD_TYPE:STRING=${CMAKE_BUILD_TYPE}
      -DCMAKE_SHARED_LIBS:BOOL=ON
      -DCMAKE_INSTALL_PREFIX:PATH=${EXT_INSTALL_DIR}
      -DVTK_USE_SYSTEM_ZLIB:BOOL=ON
      -DCMAKE_BUILD_TESTING:BOOL=OFF
      -DCMAKE_BUILD_EXAMPLES:BOOL=OFF
      -DOpenGL_GL_PREFERENCE:STRING=GLVND
      -DCMAKE_INSTALL_PREFIX:PATH=${EXT_INSTALL_DIR}
      -DCMAKE_INSTALL_RPATH:PATH=${EXT_INSTALL_DIR}/lib
      -DCMAKE_PREFIX_PATH:PATH=${EXT_INSTALL_DIR}
)
